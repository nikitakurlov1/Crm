<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ SellBit</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #0066CC 0%, #004499 100%);
            color: white;
            text-align: center;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        .btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }
        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
        }
        .success {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid rgba(76, 175, 80, 0.5);
        }
        .error {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid rgba(244, 67, 54, 0.5);
        }
        .preview {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        .icon-preview {
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ SellBit</h1>
        
        <div class="status" id="status">
            –ì–æ—Ç–æ–≤ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –∏–∫–æ–Ω–æ–∫ –¥–ª—è PWA
        </div>
        
        <div class="preview">
            <div>
                <h3>192x192px</h3>
                <canvas id="preview192" width="96" height="96" class="icon-preview"></canvas>
            </div>
            <div>
                <h3>512x512px</h3>
                <canvas id="preview512" width="128" height="128" class="icon-preview"></canvas>
            </div>
        </div>
        
        <button class="btn" onclick="createAllIcons()" id="createBtn">
            üöÄ –°–æ–∑–¥–∞—Ç—å –≤—Å–µ –∏–∫–æ–Ω–∫–∏
        </button>
        
        <button class="btn" onclick="testPWA()" id="testBtn" disabled>
            üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å PWA
        </button>
        
        <div class="status" id="result" style="display: none;"></div>
    </div>

    <script>
        // SVG –ª–æ–≥–æ—Ç–∏–ø SellBit
        const sellbitLogo = `
        <svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 274">
            <defs>
                <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#E3F2FD;stop-opacity:1" />
                </linearGradient>
            </defs>
            <g transform="translate(0.000000,274.000000) scale(0.100000,-0.100000)" fill="url(#logoGradient)" stroke="none">
                <path d="M0 1370 l0 -1370 1320 0 1320 0 0 1370 0 1370 -1320 0 -1320 0 0 -1370z m2465 706 c0 -229 -4 -351 -10 -353 -6 -2 -53 36 -105 83 l-94 86 -199 -201 c-111 -113 -209 -204 -223 -207 -14 -4 -83 -5 -155 -2 l-130 4 -41 47 c-55 65 -106 89 -199 95 -91 5 -139 -8 -174 -49 -54 -65 -18 -145 78 -173 29 -8 100 -24 158 -35 127 -24 197 -50 260 -96 98 -72 132 -226 80 -363 -40 -105 -125 -176 -260 -216 -74 -22 -253 -22 -318 0 -176 59 -272 158 -276 284 l-2 45 103 3 103 3 52 -55 c54 -56 120 -86 192 -86 52 0 131 28 164 59 41 38 43 95 6 139 -25 30 -84 48 -315 97 -194 40 -302 171 -287 348 8 91 43 162 111 224 42 39 69 53 142 77 117 37 215 34 347 -11 l87 -29 87 95 c47 53 129 143 182 199 53 57 99 110 103 117 5 8 -26 44 -93 105 -55 51 -96 97 -92 101 9 9 225 15 528 14 l190 0 0 -349z m-930 230 c107 -30 126 -37 123 -52 -2 -8 -28 -46 -58 -85 -53 -67 -56 -70 -90 -65 -157 23 -228 27 -323 18 -240 -24 -454 -147 -602 -347 -64 -86 -94 -145 -131 -255 -27 -80 -28 -95 -29 -255 0 -162 1 -174 29 -255 62 -182 133 -289 273 -409 237 -202 586 -257 873 -138 123 51 190 96 290 197 84 83 103 108 148 200 82 165 96 229 96 456 l1 191 64 67 c36 36 69 65 75 63 12 -4 20 -32 47 -167 27 -134 23 -339 -10 -466 -96 -373 -379 -665 -746 -770 -108 -31 -312 -43 -445 -26 -217 28 -424 132 -592 298 -151 150 -246 324 -295 539 -25 109 -22 347 4 455 29 116 74 229 125 314 178 296 466 479 817 519 50 6 306 -14 356 -27z"/>
            </g>
        </svg>`;

        function drawIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            
            // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#0066CC');
            gradient.addColorStop(1, '#004499');
            
            // –ó–∞–ª–∏–≤–∞–µ–º —Ñ–æ–Ω –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, size, size);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–Ω—å
            ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';
            ctx.shadowBlur = size * 0.1;
            ctx.shadowOffsetX = size * 0.02;
            ctx.shadowOffsetY = size * 0.02;
            
            // –°–æ–∑–¥–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ SVG
            const img = new Image();
            const svgBlob = new Blob([sellbitLogo], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(svgBlob);
            
            img.onload = function() {
                // –í—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
                const scale = size * 0.5 / Math.max(img.width, img.height);
                const scaledWidth = img.width * scale;
                const scaledHeight = img.height * scale;
                const x = (size - scaledWidth) / 2;
                const y = (size - scaledHeight) / 2;
                
                // –†–∏—Å—É–µ–º –∏–∫–æ–Ω–∫—É
                ctx.drawImage(img, x, y, scaledWidth, scaledHeight);
                
                // –£–±–∏—Ä–∞–µ–º —Ç–µ–Ω—å –¥–ª—è —Ç–µ–∫—Å—Ç–∞
                ctx.shadowColor = 'transparent';
                ctx.shadowBlur = 0;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç "SellBit" –≤–Ω–∏–∑—É
                ctx.fillStyle = 'white';
                ctx.font = `bold ${size * 0.08}px Inter, Arial, sans-serif`;
                ctx.textAlign = 'center';
                ctx.fillText('SellBit', size / 2, size * 0.85);
                
                URL.revokeObjectURL(url);
            };
            
            img.src = url;
        }

        function downloadIcon(size) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            
            drawIcon(canvas, size);
            
            // –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
            setTimeout(() => {
                const link = document.createElement('a');
                link.download = `icon-${size}.png`;
                link.href = canvas.toDataURL('image/png', 0.9);
                link.click();
            }, 100);
        }

        function updateStatus(message, type = 'info') {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type}`;
        }

        function updateResult(message, type = 'success') {
            const result = document.getElementById('result');
            result.textContent = message;
            result.className = `status ${type}`;
            result.style.display = 'block';
        }

        async function createAllIcons() {
            const createBtn = document.getElementById('createBtn');
            const testBtn = document.getElementById('testBtn');
            
            createBtn.disabled = true;
            createBtn.textContent = '‚è≥ –°–æ–∑–¥–∞–Ω–∏–µ...';
            
            updateStatus('–°–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫...', 'info');
            
            try {
                // –°–æ–∑–¥–∞–µ–º –∏–∫–æ–Ω–∫–∏
                downloadIcon(192);
                await new Promise(resolve => setTimeout(resolve, 500));
                downloadIcon(512);
                
                updateStatus('‚úÖ –ò–∫–æ–Ω–∫–∏ —Å–æ–∑–¥–∞–Ω—ã!', 'success');
                updateResult('üì± –ò–∫–æ–Ω–∫–∏ icon-192.png –∏ icon-512.png —Å–∫–∞—á–∞–Ω—ã. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –∏—Ö –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –ø–∞–ø–∫—É public/');
                
                testBtn.disabled = false;
                createBtn.textContent = '‚úÖ –ò–∫–æ–Ω–∫–∏ —Å–æ–∑–¥–∞–Ω—ã';
                
            } catch (error) {
                updateStatus('‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏–∫–æ–Ω–æ–∫', 'error');
                updateResult('–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∏–∫–æ–Ω–∫–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ generate-sellbit-icons.html');
                createBtn.disabled = false;
                createBtn.textContent = 'üöÄ –°–æ–∑–¥–∞—Ç—å –≤—Å–µ –∏–∫–æ–Ω–∫–∏';
            }
        }

        function testPWA() {
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            window.open('/pwa-test.html', '_blank');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–≤—å—é
        window.onload = function() {
            drawIcon(document.getElementById('preview192'), 96);
            drawIcon(document.getElementById('preview512'), 128);
        };
    </script>
</body>
</html>
